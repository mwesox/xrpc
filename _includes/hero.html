<section class="hero">
  <div class="hero-bg"></div>
  <div class="hero-particles">
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
  </div>

  <div class="hero-content">
    <div class="hero-badge">
      <span class="badge-dot"></span>
      <span>Schema-first RPC for the polyglot era</span>
    </div>

    <h1 class="hero-title">
      <span class="gradient-text">Define once.</span><br>
      Generate everywhere.
    </h1>

    <p class="hero-subtitle">
      xRPC turns your TypeScript + Zod schemas into Go servers and TypeScript clients
      today. More targets (ts-express, Kotlin, Python) are planned.
    </p>

    <div class="hero-cta">
      <a href="{{ '/docs/usage/api-contract.html' | relative_url }}" class="btn btn-primary btn-lg">
        Start now
      </a>
      <a href="https://github.com/{{ site.repository }}" class="btn btn-secondary btn-lg" target="_blank" rel="noopener">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
        </svg>
        View on GitHub
      </a>
    </div>
  </div>

  <!-- Hub-and-spoke API Diagram -->
  <div class="hero-diagram">
    <div class="api-diagram">
      <svg class="api-diagram-svg" viewBox="0 0 700 500" fill="none" xmlns="http://www.w3.org/2000/svg">
        <!-- Gradients and Filters -->
        <defs>
          <linearGradient id="hero-gradient-center" x1="250" y1="175" x2="450" y2="325" gradientUnits="userSpaceOnUse">
            <stop stop-color="#00d4ff"/>
            <stop offset="1" stop-color="#7c3aed"/>
          </linearGradient>
          <!-- Kotlin gradient -->
          <linearGradient id="kotlin-gradient" x1="-12" y1="-12" x2="12" y2="12" gradientUnits="userSpaceOnUse">
            <stop stop-color="#7f52ff"/>
            <stop offset="0.5" stop-color="#c757bc"/>
            <stop offset="1" stop-color="#f88a36"/>
          </linearGradient>
          <!-- White glow filter for connection lines -->
          <filter id="glow-white" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur stdDeviation="2" result="blur1"/>
            <feGaussianBlur stdDeviation="5" result="blur2"/>
            <feMerge>
              <feMergeNode in="blur2"/>
              <feMergeNode in="blur1"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
        </defs>

        <!-- Connection lines (animated with glow) -->
        <g filter="url(#glow-white)">
          <!-- To React (top) -->
          <path class="connection-line connection-line-typescript" d="M350 175 L350 110" stroke="#ffffff" stroke-width="2.5" stroke-linecap="round" stroke-dasharray="4 2"/>
          <polygon class="connection-line connection-line-typescript arrow-head" points="343,118 350,102 357,118" fill="#ffffff"/>

          <!-- To Go (left) -->
          <path class="connection-line connection-line-go" d="M250 250 L185 250" stroke="#ffffff" stroke-width="2.5" stroke-linecap="round" stroke-dasharray="4 2"/>
          <polygon class="connection-line connection-line-go arrow-head" points="193,242 177,250 193,258" fill="#ffffff"/>

          <!-- To TypeScript (right) -->
          <path class="connection-line connection-line-ts" d="M450 250 L515 250" stroke="#ffffff" stroke-width="2.5" stroke-linecap="round" stroke-dasharray="4 2"/>
          <polygon class="connection-line connection-line-ts arrow-head" points="507,242 523,250 507,258" fill="#ffffff"/>

          <!-- To Kotlin (bottom) -->
          <path class="connection-line connection-line-kotlin" d="M350 325 L350 390" stroke="#ffffff" stroke-width="2.5" stroke-linecap="round" stroke-dasharray="4 2"/>
          <polygon class="connection-line connection-line-kotlin arrow-head" points="343,382 350,398 357,382" fill="#ffffff"/>
        </g>

        <!-- TypeScript box (top) - BIGGER -->
        <g class="tech-box tech-box-typescript">
          <rect x="230" y="0" width="240" height="110" rx="14" fill="#12121a" stroke="#3178c6" stroke-width="2.5"/>
          <!-- TypeScript logo icon -->
          <g transform="translate(350, 35)">
            <rect x="-16" y="-16" width="32" height="32" rx="4" fill="#3178c6"/>
            <text x="0" y="7" text-anchor="middle" fill="#ffffff" font-family="var(--font-mono)" font-size="18" font-weight="700">TS</text>
          </g>
          <text x="350" y="72" text-anchor="middle" fill="#3178c6" font-family="var(--font-mono)" font-size="22" font-weight="700">TypeScript</text>
          <text x="350" y="96" text-anchor="middle" fill="#8888a0" font-family="var(--font-sans)" font-size="14">Vanilla Client</text>
        </g>

        <!-- Go box (left) - BIGGER -->
        <g class="tech-box tech-box-go">
          <rect x="0" y="190" width="180" height="120" rx="14" fill="#12121a" stroke="#00add8" stroke-width="2.5"/>
          <!-- Go Gopher icon -->
          <g transform="translate(90, 228)">
            <ellipse rx="14" ry="12" fill="#00add8"/>
            <circle cx="-5" cy="-3" r="3" fill="#12121a"/>
            <circle cx="5" cy="-3" r="3" fill="#12121a"/>
            <circle cx="-5" cy="-3" r="1.5" fill="#ffffff"/>
            <circle cx="5" cy="-3" r="1.5" fill="#ffffff"/>
            <ellipse cx="0" cy="4" rx="4" ry="2" fill="#12121a"/>
          </g>
          <text x="90" y="262" text-anchor="middle" fill="#00add8" font-family="var(--font-mono)" font-size="22" font-weight="700">Go</text>
          <text x="90" y="290" text-anchor="middle" fill="#8888a0" font-family="var(--font-sans)" font-size="14">Server + Types</text>
        </g>

        <!-- contract.ts box (center) - LARGER and emphasized -->
        <g class="api-box">
          <rect x="250" y="175" width="200" height="150" rx="16" fill="#12121a" stroke="url(#hero-gradient-center)" stroke-width="3"/>
          <text x="350" y="230" text-anchor="middle" fill="#00d4ff" font-family="var(--font-mono)" font-size="28" font-weight="700">contract.ts</text>
          <text x="350" y="262" text-anchor="middle" fill="#8888a0" font-family="var(--font-sans)" font-size="16">Zod Schema</text>
          <text x="350" y="295" text-anchor="middle" fill="#5a5a70" font-family="var(--font-sans)" font-size="13">Single source of truth</text>
        </g>

        <!-- TypeScript box (right) - BIGGER -->
        <g class="tech-box tech-box-ts">
          <rect x="520" y="190" width="180" height="120" rx="14" fill="#12121a" stroke="#3178c6" stroke-width="2.5"/>
          <!-- TypeScript logo icon -->
          <g transform="translate(610, 225)">
            <rect x="-14" y="-14" width="28" height="28" rx="4" fill="#3178c6"/>
            <text x="0" y="6" text-anchor="middle" fill="#ffffff" font-family="var(--font-mono)" font-size="14" font-weight="700">TS</text>
          </g>
          <text x="610" y="262" text-anchor="middle" fill="#3178c6" font-family="var(--font-mono)" font-size="22" font-weight="700">TypeScript</text>
          <text x="610" y="290" text-anchor="middle" fill="#8888a0" font-family="var(--font-sans)" font-size="14">Express (Planned)</text>
        </g>

        <!-- Kotlin box (bottom) - BIGGER -->
        <g class="tech-box tech-box-kotlin">
          <rect x="230" y="395" width="240" height="105" rx="14" fill="#12121a" stroke="#7f52ff" stroke-width="2.5"/>
          <!-- Kotlin logo icon (gradient triangle/K shape) -->
          <g transform="translate(350, 430)">
            <polygon points="-12,-12 12,-12 0,0 12,12 -12,12 0,0" fill="url(#kotlin-gradient)"/>
          </g>
          <text x="350" y="464" text-anchor="middle" fill="#7f52ff" font-family="var(--font-mono)" font-size="22" font-weight="700">Kotlin</text>
          <text x="350" y="488" text-anchor="middle" fill="#8888a0" font-family="var(--font-sans)" font-size="14">Spring Boot (Planned)</text>
        </g>
      </svg>
    </div>
    <p class="diagram-caption">One schema. Every platform.</p>
  </div>
</section>

<style>
/* Hero diagram */
.hero-diagram {
  max-width: 750px;
  margin: var(--space-2xl) auto 0;
  padding: 0 var(--space-lg);
  animation: fadeInUp 0.8s ease-out 0.6s both;
}

.hero-diagram .api-diagram {
  background: rgba(18, 18, 26, 0.6);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  backdrop-filter: blur(10px);
}

.hero-diagram .api-diagram-svg {
  width: 100%;
  height: auto;
  display: block;
}

.hero-diagram .diagram-caption {
  text-align: center;
  color: rgba(255, 255, 255, 0.75);
  font-size: 1.125rem;
  font-weight: 500;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  margin-top: var(--space-lg);
  margin-bottom: 0;
}

/* Tech boxes */
.hero-diagram .tech-box,
.hero-diagram .api-box {
  opacity: 0;
  animation: fadeIn 0.5s ease-out forwards;
}

.hero-diagram .api-box {
  animation-delay: 0.3s;
}

.hero-diagram .tech-box-typescript {
  animation-delay: 0.6s;
}

.hero-diagram .tech-box-go {
  animation-delay: 0.8s;
}

.hero-diagram .tech-box-ts {
  animation-delay: 1.0s;
}

.hero-diagram .tech-box-kotlin {
  animation-delay: 1.2s;
}

/* Connection lines animation */
.hero-diagram .connection-line {
  opacity: 0;
}

.hero-diagram .connection-line-typescript {
  animation: drawLine 0.4s ease-out 0.5s forwards;
}

.hero-diagram .connection-line-go {
  animation: drawLine 0.4s ease-out 0.7s forwards;
}

.hero-diagram .connection-line-ts {
  animation: drawLine 0.4s ease-out 0.9s forwards;
}

.hero-diagram .connection-line-kotlin {
  animation: drawLine 0.4s ease-out 1.1s forwards;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes drawLine {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes flowDash {
  from {
    stroke-dashoffset: 12;
  }
  to {
    stroke-dashoffset: 0;
  }
}

@keyframes pulseArrow {
  0%, 100% {
    opacity: 0.7;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.15);
  }
}

.hero-diagram .connection-line[stroke-dasharray] {
  animation: drawLine 0.4s ease-out forwards, flowDash 0.8s linear infinite;
}

.hero-diagram .connection-line-typescript[stroke-dasharray] {
  animation-delay: 0.5s, 0.9s;
}

.hero-diagram .connection-line-go[stroke-dasharray] {
  animation-delay: 0.7s, 1.1s;
}

.hero-diagram .connection-line-ts[stroke-dasharray] {
  animation-delay: 0.9s, 1.3s;
}

.hero-diagram .connection-line-kotlin[stroke-dasharray] {
  animation-delay: 1.1s, 1.5s;
}

.hero-diagram .arrow-head {
  transform-origin: center;
  transform-box: fill-box;
  animation: drawLine 0.4s ease-out forwards, pulseArrow 2s ease-in-out infinite;
}

.hero-diagram .connection-line-typescript.arrow-head {
  animation-delay: 0.5s, 1.5s;
}

.hero-diagram .connection-line-go.arrow-head {
  animation-delay: 0.7s, 1.7s;
}

.hero-diagram .connection-line-ts.arrow-head {
  animation-delay: 0.9s, 1.9s;
}

.hero-diagram .connection-line-kotlin.arrow-head {
  animation-delay: 1.1s, 2.1s;
}

/* Mobile adjustments for diagram */
@media (max-width: 600px) {
  .hero-diagram {
    padding: 0 var(--space-sm);
  }

  .hero-diagram .api-diagram {
    padding: var(--space-md);
  }

  .hero-diagram .api-diagram-svg {
    min-height: 300px;
  }
}
</style>
