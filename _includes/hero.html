<section class="hero">
  <div class="hero-bg"></div>
  <div class="hero-particles">
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
  </div>

  <div class="hero-content">
    <div class="hero-badge">
      <span class="badge-dot"></span>
      <span>Schema-first RPC for the polyglot era</span>
    </div>

    <h1 class="hero-title">
      <span class="gradient-text">Define once.</span><br>
      Generate everywhere.
    </h1>

    <p class="hero-subtitle">
      xRPC turns your TypeScript + Zod schemas into type-safe clients and servers
      for Go, Kotlin, Python, and more. One source of truth. Zero type drift.
    </p>

    <div class="hero-cta">
      <a href="{{ '/docs/usage/api-contract.html' | relative_url }}" class="btn btn-primary btn-lg">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 20h9"/>
          <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/>
        </svg>
        Get Started
      </a>
      <a href="https://github.com/{{ site.repository }}" class="btn btn-secondary btn-lg" target="_blank" rel="noopener">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
        </svg>
        View on GitHub
      </a>
    </div>
  </div>

  <!-- Hub-and-spoke API Diagram -->
  <div class="hero-diagram">
    <div class="api-diagram">
      <svg class="api-diagram-svg" viewBox="0 0 600 400" fill="none" xmlns="http://www.w3.org/2000/svg">
        <!-- Gradients -->
        <defs>
          <linearGradient id="hero-gradient-center" x1="220" y1="145" x2="380" y2="255" gradientUnits="userSpaceOnUse">
            <stop stop-color="#00d4ff"/>
            <stop offset="1" stop-color="#7c3aed"/>
          </linearGradient>
          <linearGradient id="hero-gradient-react" x1="300" y1="145" x2="300" y2="30" gradientUnits="userSpaceOnUse">
            <stop stop-color="#00d4ff"/>
            <stop offset="1" stop-color="#61dafb"/>
          </linearGradient>
          <linearGradient id="hero-gradient-go" x1="220" y1="200" x2="80" y2="200" gradientUnits="userSpaceOnUse">
            <stop stop-color="#00d4ff"/>
            <stop offset="1" stop-color="#00add8"/>
          </linearGradient>
          <linearGradient id="hero-gradient-ts" x1="380" y1="200" x2="520" y2="200" gradientUnits="userSpaceOnUse">
            <stop stop-color="#00d4ff"/>
            <stop offset="1" stop-color="#3178c6"/>
          </linearGradient>
          <linearGradient id="hero-gradient-kotlin" x1="300" y1="255" x2="300" y2="370" gradientUnits="userSpaceOnUse">
            <stop stop-color="#00d4ff"/>
            <stop offset="1" stop-color="#7f52ff"/>
          </linearGradient>
        </defs>

        <!-- Connection lines (animated) -->
        <!-- To React (top) -->
        <path class="connection-line connection-line-react" d="M300 145 L300 85" stroke="url(#hero-gradient-react)" stroke-width="2" stroke-linecap="round"/>
        <polygon class="connection-line connection-line-react" points="295,90 300,80 305,90" fill="#61dafb"/>

        <!-- To Go (left) -->
        <path class="connection-line connection-line-go" d="M220 200 L165 200" stroke="url(#hero-gradient-go)" stroke-width="2" stroke-linecap="round"/>
        <polygon class="connection-line connection-line-go" points="170,195 160,200 170,205" fill="#00add8"/>

        <!-- To TypeScript (right) -->
        <path class="connection-line connection-line-ts" d="M380 200 L435 200" stroke="url(#hero-gradient-ts)" stroke-width="2" stroke-linecap="round"/>
        <polygon class="connection-line connection-line-ts" points="430,195 440,200 430,205" fill="#3178c6"/>

        <!-- To Kotlin (bottom) -->
        <path class="connection-line connection-line-kotlin" d="M300 255 L300 315" stroke="url(#hero-gradient-kotlin)" stroke-width="2" stroke-linecap="round"/>
        <polygon class="connection-line connection-line-kotlin" points="295,310 300,320 305,310" fill="#7f52ff"/>

        <!-- React box (top) -->
        <g class="tech-box tech-box-react">
          <rect x="215" y="5" width="170" height="80" rx="12" fill="#12121a" stroke="#61dafb" stroke-width="2"/>
          <!-- React atom icon -->
          <g transform="translate(300, 30)">
            <circle r="4" fill="#61dafb"/>
            <ellipse rx="14" ry="5.5" fill="none" stroke="#61dafb" stroke-width="1.2"/>
            <ellipse rx="14" ry="5.5" fill="none" stroke="#61dafb" stroke-width="1.2" transform="rotate(60)"/>
            <ellipse rx="14" ry="5.5" fill="none" stroke="#61dafb" stroke-width="1.2" transform="rotate(-60)"/>
          </g>
          <text x="300" y="58" text-anchor="middle" fill="#61dafb" font-family="var(--font-mono)" font-size="14" font-weight="600">React</text>
          <text x="300" y="74" text-anchor="middle" fill="#8888a0" font-family="var(--font-sans)" font-size="11">Client + Hooks</text>
        </g>

        <!-- Go box (left) -->
        <g class="tech-box tech-box-go">
          <rect x="0" y="155" width="160" height="90" rx="12" fill="#12121a" stroke="#00add8" stroke-width="2"/>
          <text x="80" y="185" text-anchor="middle" fill="#00add8" font-family="var(--font-mono)" font-size="12" font-weight="700">{ }</text>
          <text x="80" y="208" text-anchor="middle" fill="#00add8" font-family="var(--font-mono)" font-size="14" font-weight="600">Go</text>
          <text x="80" y="228" text-anchor="middle" fill="#8888a0" font-family="var(--font-sans)" font-size="11">Server + Types</text>
        </g>

        <!-- api.ts box (center) - larger and emphasized -->
        <g class="api-box">
          <rect x="220" y="145" width="160" height="110" rx="14" fill="#12121a" stroke="url(#hero-gradient-center)" stroke-width="2.5"/>
          <text x="300" y="185" text-anchor="middle" fill="#00d4ff" font-family="var(--font-mono)" font-size="18" font-weight="700">api.ts</text>
          <text x="300" y="210" text-anchor="middle" fill="#8888a0" font-family="var(--font-sans)" font-size="12">Zod Schema</text>
          <text x="300" y="232" text-anchor="middle" fill="#5a5a70" font-family="var(--font-sans)" font-size="10">Single source of truth</text>
        </g>

        <!-- TypeScript box (right) -->
        <g class="tech-box tech-box-ts">
          <rect x="440" y="155" width="160" height="90" rx="12" fill="#12121a" stroke="#3178c6" stroke-width="2"/>
          <text x="520" y="185" text-anchor="middle" fill="#3178c6" font-family="var(--font-mono)" font-size="12" font-weight="700">TS</text>
          <text x="520" y="208" text-anchor="middle" fill="#3178c6" font-family="var(--font-mono)" font-size="14" font-weight="600">TypeScript</text>
          <text x="520" y="228" text-anchor="middle" fill="#8888a0" font-family="var(--font-sans)" font-size="11">Server + Client</text>
        </g>

        <!-- Kotlin box (bottom) -->
        <g class="tech-box tech-box-kotlin">
          <rect x="215" y="320" width="170" height="80" rx="12" fill="#12121a" stroke="#7f52ff" stroke-width="2"/>
          <text x="300" y="350" text-anchor="middle" fill="#7f52ff" font-family="var(--font-mono)" font-size="12" font-weight="700">Kt</text>
          <text x="300" y="373" text-anchor="middle" fill="#7f52ff" font-family="var(--font-mono)" font-size="14" font-weight="600">Kotlin</text>
          <text x="300" y="389" text-anchor="middle" fill="#8888a0" font-family="var(--font-sans)" font-size="11">Spring Boot</text>
        </g>
      </svg>
    </div>
    <p class="diagram-caption">One schema. Every platform.</p>
  </div>
</section>

<style>
/* Hero diagram */
.hero-diagram {
  max-width: 600px;
  margin: var(--space-2xl) auto 0;
  padding: 0 var(--space-lg);
  animation: fadeInUp 0.8s ease-out 0.6s both;
}

.hero-diagram .api-diagram {
  background: rgba(18, 18, 26, 0.6);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  backdrop-filter: blur(10px);
}

.hero-diagram .api-diagram-svg {
  width: 100%;
  height: auto;
  display: block;
}

.hero-diagram .diagram-caption {
  text-align: center;
  color: var(--text-secondary);
  font-size: 1rem;
  font-weight: 500;
  margin-top: var(--space-md);
  margin-bottom: 0;
}

/* Tech boxes */
.hero-diagram .tech-box,
.hero-diagram .api-box {
  opacity: 0;
  animation: fadeIn 0.5s ease-out forwards;
}

.hero-diagram .api-box {
  animation-delay: 0.3s;
}

.hero-diagram .tech-box-react {
  animation-delay: 0.6s;
}

.hero-diagram .tech-box-go {
  animation-delay: 0.8s;
}

.hero-diagram .tech-box-ts {
  animation-delay: 1.0s;
}

.hero-diagram .tech-box-kotlin {
  animation-delay: 1.2s;
}

/* Connection lines animation */
.hero-diagram .connection-line {
  opacity: 0;
}

.hero-diagram .connection-line-react {
  animation: drawLine 0.4s ease-out 0.5s forwards;
}

.hero-diagram .connection-line-go {
  animation: drawLine 0.4s ease-out 0.7s forwards;
}

.hero-diagram .connection-line-ts {
  animation: drawLine 0.4s ease-out 0.9s forwards;
}

.hero-diagram .connection-line-kotlin {
  animation: drawLine 0.4s ease-out 1.1s forwards;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes drawLine {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Mobile adjustments for diagram */
@media (max-width: 600px) {
  .hero-diagram {
    padding: 0 var(--space-sm);
  }

  .hero-diagram .api-diagram {
    padding: var(--space-md);
  }

  .hero-diagram .api-diagram-svg {
    min-height: 300px;
  }
}
</style>
