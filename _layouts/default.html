<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Dark theme meta -->
    <meta name="theme-color" content="#0a0a0f">
    <meta name="color-scheme" content="dark">

    <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description }}">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@500;600;700&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">

    <link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">
    {% feed_meta %}
  </head>
  <body>
    <!-- Skip link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <div class="wrapper">
      {% include header.html %}

      <main id="main-content" class="page-content" aria-label="Content">
        <div class="content-wrapper">
          {% unless page.hide_sidebar %}
          <aside class="sidebar" aria-label="Navigation">
            {% include navigation.html %}
          </aside>
          {% endunless %}
          <article class="content">
            {{ content }}
          </article>
        </div>
      </main>

      {% include footer.html %}
    </div>

    <!-- Mobile menu script (progressive enhancement) -->
    <script>
      (function() {
        var toggle = document.querySelector('.mobile-menu-toggle');
        var nav = document.querySelector('.mobile-nav');

        if (toggle && nav) {
          toggle.addEventListener('click', function() {
            nav.classList.toggle('open');
            toggle.setAttribute('aria-expanded', nav.classList.contains('open'));
          });
        }
      })();
    </script>
  </body>
</html>
